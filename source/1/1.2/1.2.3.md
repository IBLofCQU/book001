1.2.3 配置虚拟环境
==============================

使用PyTorch时需指定其版本，而不同版本的PyTorch需安装特定的Python版本及其他软件。虚拟环境即是用于管理这种需安装多个指定版本软件才能满足运行要求的情况，即创建一个虚拟环境，在该虚拟环境下安装满足运行要求所需的各种指定版本软件，在使用时切换到该虚拟环境下即可。使用Conda虚拟环境管理工具时，在未创建其他虚拟环境或退出指定虚拟环境时，Conda即处于默认的全局虚拟环境base下。

现举例说明：假设当前需要安装PyTorch1.12版本，该版本需与Python3.8相配合，则可创建一个名为PyTorch1.12-VS-python3.8（虚拟环境名称无特殊要求，方便自己使用理解即可）的虚拟环境，在该环境下把上述两种软件及其他软件安装完毕。当其他情况需要安装PyTorch1.10版本及其所需的Python3.7时，则可再创建一个名为PyTorch1.10-VS-python3.7的新虚拟环境，在该环境下安装前述两个版本的软件及其他软件。当我们需要使用PyTorch1.12版本时，就激活进入PyTorch1.12-VS-python3.8虚拟环境；当需要使用PyTorch1.10版本时，就激活进入PyTorch1.10-VS-python3.7虚拟环境。各虚拟环境下配置或安装的软件只影响当前所在的虚拟环境，而不影响其他虚拟环境。通过此种方式可以在不同的虚拟环境下实现不同软件版本的自由切换。

创建虚拟环境：打开MiniConda，在出现的命令行窗口中输入以下命令并回车：conda create -n pt112vspy38 python=3.8，在出现的提示信息中输入y并回车，即开始创建名为pt110vspy38的虚拟环境，如图1-6所示。

![图 1-6 创建虚拟环境](/_static/1/1.2/1-6.png)

当相应的包下载完成，并出现如图1-7所示的3行以done结尾的英文提示后，即表示虚拟环境创建成功。虚拟环境创建成功后，需激活该虚拟环境。虚拟环境一旦被激活，则表示当前已经进入该虚拟环境中。其中激活与关闭虚拟环境的命令如图1-7所示。

![图 1-7 虚拟环境创建成功提示与激活](/_static/1/1.2/1-7.png)
